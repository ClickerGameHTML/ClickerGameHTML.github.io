<!DOCTYPE html>
<html>
<head>
    <title>Advanced Clicker Game with Upgrades</title>
    <style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        overflow: hidden; /* Prevents scroll due to falling images */
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        /* Gradient background from light purple to soft pink */
        background: linear-gradient(to right, #fbc2eb 0%, #a6c1ee 100%);
    }
    #game {
        flex-grow: 1;
        text-align: center;
    }
    #shop {
        position: absolute;
        left: 20px;
        top: 20px;
    }
    #score {
        font-size: 24px;
        margin-bottom: 20px;
    }
    #muteButton {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border: 2px solid #9b72aa; /* Purple border */
    background-color: #e6cde3; /* Lighter purple background */
    color: #5a3a5b; /* Darker purple text color for contrast */
    border-radius: 8px; /* Slightly rounded corners for a softer look */
    transition: background-color 0.3s, color 0.3s; /* Smooth transition for hover effect */
}

#muteButton:hover {
    background-color: #d1a9ce; /* Slightly darker purple on hover for interactivity */
    color: #ffffff; /* White text color on hover for better readability */
}

    img.clickable-image {
        cursor: pointer;
        transition: transform 0.1s;
        width: 200px; /* Bigger clickable image */
        height: auto;
    }
    img.clickable-image:active {
        transform: scale(0.9);
    }
    .falling-image {
    position: fixed;
    top: 0px; /* Ensure starting at the top */
    opacity: 0.5;
    width: 50px; /* Adjust size as needed */
    height: auto;
    pointer-events: none;
    animation: fall 3s linear forwards;
}
@keyframes fall {
    from { top: 0px; }
    to { top: 100vh; }
}
    .can-afford {
        color: green;
    }
    .cannot-afford {
        color: red;
    }
    button {
        padding: 10px 20px;
        font-size: 20px;
        cursor: pointer;
        margin-bottom: 10px;
        border: 2px solid #9b72aa; /* Purple border */
        background-color: #e6cde3; /* Lighter purple background */
        color: #5a3a5b; /* Darker purple text color for contrast */
        border-radius: 8px; /* Slightly rounded corners for a softer look */
        transition: background-color 0.3s, color 0.3s; /* Smooth transition for hover effect */
    }

    button:hover {
        background-color: #d1a9ce; /* Slightly darker purple on hover for interactivity */
        color: #ffffff; /* White text color on hover for better readability */
    }

    .can-afford {
        color: green;
    }

    .cannot-afford {
        color: red;
    }
</style>

</head>
<body>

<div id="shop">
    <h2>Shop</h2>
    <button id="buyUpgrade" class="cannot-afford">+1 for 50 Points</button>
    <button id="buyAutoPoints" class="cannot-afford">Auto +1/sec for 500 Points</button>
    <button id="bigUpgrade" class="cannot-afford">+100 for 10,000 Points</button>
    <button id="bigAutoPoints" class="cannot-afford">+100/sec for 50,000 Points</button>
    <button id="massiveClickUpgrade" class="cannot-afford">+500/click for 150,000 Points</button>
    <button id="massiveAutoPoints" class="cannot-afford">+500/sec for 200,000 Points</button>
    <button id="hugeClickUpgrade" class="cannot-afford">+5,000/click for 500,000 Points</button>
    <button id="hugeAutoPoints" class="cannot-afford">+5,000/sec for 750,000 Points</button>


</div>

<div id="game">
    <div id="score">Score: 0</div>
    <img src='drake-21-savage-her-loss-album-cver.webp'; alt="Clickable" class="clickable-image" id="clickMe">
</div>

<!-- Background music -->
<audio loop autoplay muted>
    <source src="CircoLoco.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<!-- Mute Button -->
<button id="muteButton" style="position: fixed; bottom: 20px; right: 20px;">Mute</button>

<script>
    let score = 0;
    let pointsPerClick = 1;
    let pointsPerSecond = 0;
    let upgradePrice = 50;
    let autoPointsPrice = 500;
    let bigUpgradePrice = 10000;
    let bigAutoPointsPrice = 50000;
    let massiveClickUpgradePrice = 150000;
    let massiveAutoPointsPrice = 200000;
    let hugeClickUpgradePrice = 500000;
    let hugeAutoPointsPrice = 750000;

    const scoreDisplay = document.getElementById('score');
    const clickMeImage = document.getElementById('clickMe');
    const buttons = document.querySelectorAll('#shop button');

    // Hide all buttons except the first
    function initializeButtonVisibility() {
        buttons.forEach((button, index) => {
            if (index > 0) button.style.display = 'none';
        });
    }

    // Show next button
    function unlockNextUpgrade(currentButton) {
        const nextButton = currentButton.nextElementSibling;
        if (nextButton) nextButton.style.display = 'inline-block';
    }

    // Update the score and shop
    function updateScoreAndShop() {
        scoreDisplay.textContent = 'Score: ' + score;
        // Further updates can be added here
    }

    // Set click handlers for each upgrade button
    function setClickHandlers() {
        buyUpgradeButton.onclick = function() {
            if (score >= upgradePrice) {
                score -= upgradePrice;
                pointsPerClick += 1;
                upgradePrice *= 1.02;
                unlockNextUpgrade(this);
                updateScoreAndShop();
            }
        };

        buyAutoPointsButton.onclick = function() {
            if (score >= autoPointsPrice) {
                score -= autoPointsPrice;
                pointsPerSecond += 1;
                autoPointsPrice *= 1.05;
                unlockNextUpgrade(this);
                updateScoreAndShop();
            }
        };
     bigUpgradeButton.onclick = function() {
        if (score >= bigUpgradePrice) {
            score -= bigUpgradePrice;
            pointsPerClick += 100;
            bigUpgradePrice = Math.round(bigUpgradePrice * 1.05);
            updateScoreAndShop();
            unlockNextUpgrade(this); // Unlock the next upgrade
        }
    };

    bigAutoPointsButton.onclick = function() {
        if (score >= bigAutoPointsPrice) {
            score -= bigAutoPointsPrice;
            pointsPerSecond += 100;
            bigAutoPointsPrice = Math.round(bigAutoPointsPrice * 1.03);
            updateScoreAndShop();
            unlockNextUpgrade(this); // Unlock the next upgrade
        }
    };

    massiveClickUpgradeButton.onclick = function() {
        if (score >= massiveClickUpgradePrice) {
            score -= massiveClickUpgradePrice;
            pointsPerClick += 500;
            massiveClickUpgradePrice = Math.round(massiveClickUpgradePrice * 1.05);
            updateScoreAndShop();
            unlockNextUpgrade(this); // Unlock the next upgrade
        }
    };

    massiveAutoPointsButton.onclick = function() {
        if (score >= massiveAutoPointsPrice) {
            score -= massiveAutoPointsPrice;
            pointsPerSecond += 500;
            massiveAutoPointsPrice = Math.round(massiveAutoPointsPrice * 1.05);
            updateScoreAndShop();
            unlockNextUpgrade(this); // Unlock the next upgrade
        }
    };

    hugeClickUpgradeButton.onclick = function() {
        if (score >= hugeClickUpgradePrice) {
            score -= hugeClickUpgradePrice;
            pointsPerClick += 5000;
            hugeClickUpgradePrice = Math.round(hugeClickUpgradePrice * 1.05);
            updateScoreAndShop();
            unlockNextUpgrade(this); // Unlock the next upgrade
        }
    };

    hugeAutoPointsButton.onclick = function() {
        if (score >= hugeAutoPointsPrice) {
            score -= hugeAutoPointsPrice;
            pointsPerSecond += 5000;
            hugeAutoPointsPrice = Math.round(hugeAutoPointsPrice * 1.05);
            updateScoreAndShop();
            unlockNextUpgrade(this); // Unlock the next upgrade
        }
    };

    function updateButtonStyles() {
    // Loop through each button and update its class based on affordability
    buttons.forEach(button => {
        // Extract the upgrade price associated with each button
        const upgradeCost = getUpgradeCost(button.id);

        // Check if the player's score is sufficient to afford this upgrade
        if (score >= upgradeCost) {
            button.classList.add("can-afford");
            button.classList.remove("cannot-afford");
        } else {
            button.classList.remove("can-afford");
            button.classList.add("cannot-afford");
        }
    });
}

function getUpgradeCost(buttonId) {
    switch(buttonId) {
        case 'buyUpgrade': return upgradePrice;
        case 'buyAutoPoints': return autoPointsPrice;
        case 'bigUpgrade': return bigUpgradePrice;
        case 'bigAutoPoints': return bigAutoPointsPrice;
        case 'massiveClickUpgrade': return massiveClickUpgradePrice;
        case 'massiveAutoPoints': return massiveAutoPointsPrice;
        case 'hugeClickUpgrade': return hugeClickUpgradePrice;
        case 'hugeAutoPoints': return hugeAutoPointsPrice;
        // Add cases for any additional upgrades here
        default: return Infinity; // A safe fallback
    }
}

    // Call updateScoreAndShop initially to set up the initial button states
    updateScoreAndShop();

        document.addEventListener('DOMContentLoaded', () => {
        initializeButtonVisibility();
        setClickHandlers();
    });

    clickMeImage.onclick = function() {
        score += pointsPerClick;
        updateScoreAndShop();
        const fallingImage = document.createElement('img');
        fallingImage.src = 'drake-21-savage-her-loss-album-cver.webp'; // Make sure the path is correct
        fallingImage.classList.add('falling-image');
        const maxWidth = window.innerWidth - 50; // Assuming the image width is about 50px
        const randomLeft = Math.floor(Math.random() * maxWidth);
        fallingImage.style.left = `${randomLeft}px`;
        document.body.appendChild(fallingImage);
        setTimeout(() => {
            document.body.removeChild(fallingImage);
        }, 3000);
    };
    // Music mute/unmute handling
    const audio = document.querySelector('audio');
    const muteButton = document.getElementById('muteButton');
    muteButton.addEventListener('click', function() {
        if (audio.paused) {
            audio.play().then(() => {
                muteButton.textContent = 'Mute';
            }).catch(error => {
                console.error("Playback failed:", error);
            });
        } else {
            audio.muted = !audio.muted;
            muteButton.textContent = audio.muted ? 'Unmute' : 'Mute';
        }
    });
</script>

</body>
</html>
